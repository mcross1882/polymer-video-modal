<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="video-modal" attributes="header mp4 ogg videoWidth videoHeight" noscript>
  <template>
    <div id="video-modal-overlay" class="video-modal-overlay">   
      <div id="video-modal-overlay" class="video-modal-container">
        <div class="video-modal-heading">
          <div class="title">{{ header }} <button class="close">X</button></div>
        </div>
        
        <div class="video-modal-content">
          <video width="{{ videoWidth }}" height="{{ videoHeight }}" controls>
            <source src="{{ mp4 }}" type="video/mp4"></source>
            <source src="{{ ogg }}" type="video/ogg"></source>
          </video>
        </div>
      </div>
    </div>
  
    <style>
      .video-modal-overlay {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background-color: #000;
        opacity: 0.75;
        z-index: 1000;
      }
      
      .video-modal-overlay.hide {
        display: none;
      }
      
      .video-modal-container {
        font-family: arial;
        margin: 5% 20%;
        background-color: #fff;
        display: inline-block;
      }
      
      .video-modal-container .video-modal-content {
        margin: 1em;
      }
      
      .video-modal-heading .title {
        text-transform: uppercase;
        text-align: left;
        font-size: 1.25em;
        font-weight: bold;
        border-bottom: 5px solid #888;
        margin: 0.25em 0px 0.5em 0px;
        margin-bottom: 0px;
        padding: 0.5em 1em;
      }
      
      .video-modal-heading .close {
        float: right;
        text-decoration: none;
        color: #303030;
        transition: color 0.5s ease;
        pointer: cursor;
      }
      
      .video-modal-heading .close:hover {
        color: #a8a8a8;
        pointer: cursor;
      }
    </style>
  </template>
  
  <script>
    (function() {
    /*
      document.registerElement("video-modal", {
        prototype: VideoModalPrototype
      });
   */
      var VideoModalPrototype = Object.create(HTMLElement.prototype, {
        modal: {
          elementName: 'video-modal'
          , header: ''
          , mp4: ''
          , ogg: ''
          , videoWidth: 640
          , videoHeight: 480
          
          , ready: function() {
            this.registerDisplayEvents();
          }
          
          , registerDisplayEvents: function() {
            console.log(this);
          }
          
          , createVideoAndOverlay: function() {
            var overlay = this.getOverlay();
            overlay.classname = overlay.className.replace("hide", "");
          }
          
          , removeVideoAndOverlay: function() {
            var overlay = getOverlay();
            overlay.className = overlay.className + " hide";
          }
          
          , getOverlay: function() {
            return document.getElementById('video-modal-overlay');
          }
        }
      });
      
      console.log(VideoModalPrototype);
      
      Polymer(VideoModalPrototype.elementName, VideoModalPrototype);
    })();
  </script>
</polymer-element>
