<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="video-modal" attributes="title mp4 ogg width height" noscript>
  <template>
    <div class="video-modal-overlay">    
      <div class="video-modal-container">
        <div class="video-modal-heading">
          <div class="title">{{ title }}<a href class="close">X</a></div>
        </div>
        
        <div class="video-modal-content">
          <video width="{{ width }}" height="{{ height }}">
            <source src="{{ mp4 }}" type="video/mp4"></source>
            <source src="{{ ogg }}" type="video/ogg"></source>
          </video>
        </div>
      </div>
    </div>
  
    <style>
      .video-modal-overlay {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background-color: #000;
        opacity: 0.75;
        z-index: 1000;
      }
      
      .video-modal-container {
        font-family: arial;
        margin: 5% 20%;
        background-color: #fff;
        display: inline-block;
      }
      
      .video-modal-heading .title {
        margin: 0.25em 0px 0.5em 0px;
        text-transform: uppercase;
        font-size: 1.25em;
        font-weight: bold;
        border-bottom: 5px solid #888;
        margin-bottom: 0px;
        padding: 0.5em 1em;
      }
      
      .video-modal-heading .close {
        float: right;
        text-decoration: none;
        color: #303030;
        transition: color 0.5s ease;
      }
      
      .video-modal-heading .close:hover {
        color: #a8a8a8;
      }
      
      .video-modal-container .video-modal-content {
        margin: 1em;
      }
    </style>
  </template>
  
  <script>
    var VideoModal = {
      title: ''
      , mp4: ''
      , ogg: ''
      , width: 640
      , height: 480
      
      , onReady: function() {
        this.registerCloseEvent();
      }
      
      , registerCloseEvent: function() {
        var closeButton = document.getElementById('close-button');
        closeButton.addEventListener('click', this.onCloseButtonClicked);
      }
      
      , onCloseButtonClicked: function() {
        this
          .getParent() // heading
          .getParent() // container
          .getParent() // overlay
          .remove();
      }
    };
    
    Polymer('video-modal', VideoModal);
  </script>
</polymer-element>
